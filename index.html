<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>광고 영상 시청 시 소비자 경험 설문(점검용)</title>
<style>
  :root { --gap: 16px; --fg:#222; --muted:#666; --line:#e5e7eb; --brand:#f59e0b; }
  html,body{margin:0;padding:0;background:#fff;color:var(--fg);font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;line-height:1.6}
  .wrap{max-width:920px;margin:24px auto;padding:0 16px}
  h1{font-size:1.4rem;margin:0 0 6px}
  .card{border:1px solid var(--line);border-radius:14px;padding:18px;box-shadow:0 1px 3px rgba(0,0,0,.04);margin-top:var(--gap)}
  .muted{color:var(--muted);font-size:.95rem}
  .row{display:grid;gap:10px}
  .row2{display:grid;grid-template-columns:1fr auto;gap:10px;align-items:center}
  .progress{height:6px;background:#f3f4f6;border-radius:999px;overflow:hidden;margin:8px 0 0}
  .progress > div{height:100%;background:var(--brand);width:0%}

  .btn{display:inline-flex;gap:8px;align-items:center;border:1px solid var(--line);background:#fff;padding:10px 14px;border-radius:10px;cursor:pointer}
  .btn.primary{background:var(--brand);border-color:var(--brand);color:#111;font-weight:600}
  .btn:disabled{opacity:.5;cursor:not-allowed}
  .btnbar{display:flex;gap:10px;margin-top:14px;flex-wrap:wrap}

  .grid{overflow-x:auto}
  table{border-collapse:collapse;width:100%;min-width:680px}
  th,td{border:1px solid var(--line);padding:8px 10px;text-align:center}
  th{background:#fafafa;font-weight:600}

  .notice{padding:10px 12px;border:1px solid #fde68a;background:#fef3c7;color:#92400e;border-radius:10px}
  .brand{padding:10px 12px;border:1px dashed var(--line);border-radius:10px;background:#fcfcfc}
  .small{font-size:.9rem}
  .pill{display:inline-block;background:#f3f4f6;border:1px solid var(--line);border-radius:999px;padding:2px 10px;font-size:.85rem}
  .video-wrap{display:grid;gap:10px}
  .slider-wrap{display:grid;gap:8px}
  .ticks{display:flex;justify-content:space-between;font-size:.9rem;color:var(--muted)}
  .hr{height:1px;background:var(--line);margin:12px 0}
</style>
</head>
<body>
<div class="wrap">
  <div class="row2">
    <h1>광고 영상 시청 시 소비자 경험 설문 <span class="pill">점검용</span></h1>
    <div style="min-width:180px">
      <div class="progress" aria-hidden="true"><div id="bar"></div></div>
      <div class="muted" id="stepLabel" style="text-align:right;margin-top:6px">1 / 4</div>
    </div>
  </div>

  <!-- 섹션 1: 안내 및 기본정보 -->
  <section id="sec1" class="card">
    <h2 style="margin-top:0">설문조사 안내문 (섹션 1)</h2>
    <p>안녕하십니까? 귀중한 시간을 내어 설문에 응해 주셔서 감사합니다. 저는 대구대학교 심리학과 최주형입니다. 본 설문지는 영상 시청 과정에서 나타나는 광고와 관련된 전반적인 경험을 알아보기 위한 것입니다. 제시되는 문항에는 정답이나 오답이 없으니, 평소에 느끼고 생각하시는 대로 응답해 주시면 됩니다. 자신에게 꼭 맞는 응답이 없더라도 가장 가깝다고 생각되는 항목을 선택해 주시기 바랍니다.</p>
    <p>응답하신 내용은 익명으로 처리되며 연구 목적 외에는 사용되지 않습니다. 또한 한 문항에는 반드시 하나의 응답만 선택해 주시고, 빠짐없이 작성해 주셔야 설문이 유효하게 처리됩니다.</p>
    <p>본 설문지는 총 11문항과 약 20초 정도의 광고 영상으로 구성되어 있으며, 약 5분 정도 소요됩니다. 귀하의 소중한 응답은 연구에 큰 도움이 됩니다. 참여해 주셔서 다시 한 번 감사드립니다.</p>
    <div class="brand small">
      <strong>대구대학교 일반대학원 심리학과</strong><br/>
      조사자 — 지도교수 박은아 (eunap@daegu.ac.kr), 석사과정 수료 최주형 (thridworldjoy@naver.com)
    </div>
    <div class="hr"></div>
    <div class="row">
      <label>1. 과제 점수를 부여하기 위해 본인의 학번을 작성해주세요.<br/>
        <input id="sid" type="text" placeholder="예: 12345678" style="width:260px;padding:8px;border:1px solid var(--line);border-radius:8px;opacity:.8"/>
      </label>
      <div>
        <div>2. 성별</div>
        <label><input type="radio" name="gender" value="남"> 남</label>
        <label style="margin-left:12px"><input type="radio" name="gender" value="여"> 여</label>
      </div>
      <label>3. 나이<br/>
        <input id="age" type="number" min="14" max="99" placeholder="예: 23" style="width:120px;padding:8px;border:1px solid var(--line);border-radius:8px"/>
      </label>
    </div>
    <div class="btnbar">
      <button class="btn primary" data-next>다음</button>
    </div>
  </section>

  <!-- 섹션 2: 영상 시청 -->
  <section id="sec2" class="card" style="display:none">
    <h2 style="margin-top:0">광고 영상 시청 (섹션 2)</h2>
    <p class="brand"><strong>브랜드 안내</strong><br/>Sunshine는 매일의 순간에 신선한 빛을 전하는 주스 브랜드입니다. “Fresh Sunlight in Every Glass”라는 메시지처럼, 한 잔의 주스 속에 건강하고 활기찬 태양의 에너지를 담아 전달합니다.</p>
    <p id="aiNotice" class="notice">⚠️ 안내 문구가 여기에 표시됩니다.</p>
    <div class="video-wrap">
      <video id="adVideo" width="100%" height="auto" controls playsinline>
        <source id="adSrc" src="" type="video/mp4"/>
        해당 브라우저는 video 태그를 지원하지 않습니다.
      </video>
      <div class="muted small" id="chosenInfo"></div>
    </div>
    <div class="btnbar">
      <!-- 점검용: 시청·응답 없이도 이동 가능 -->
      <button class="btn primary" data-next>다음</button>
    </div>
  </section>

  <!-- 섹션 3: 시청 후 경험 평가 -->
  <section id="sec3" class="card" style="display:none">
    <h2 style="margin-top:0">영상 시청 후 경험 평가 (섹션 3)</h2>
    <p class="muted small">방금 시청한 영상에 대해 느끼신 점을 묻는 질문입니다. 각 문항에는 정답이나 오답이 없으며, 평소에 느끼신 대로 솔직하게 응답해 주시면 됩니다.</p>

    <!-- 1. 조작점검 -->
    <div class="row">
      <div><strong>1.</strong> 이 광고 시작부 또는 화면 하단에 어떤 안내 문구가 표시되었나요?</div>
      <label><input type="radio" name="manip1" value="전문가만"> 광고 전문가가 AI 없이 제작</label>
      <label><input type="radio" name="manip1" value="전문가+AI"> 광고 전문가가 AI를 활용하여 제작</label>
      <label><input type="radio" name="manip1" value="100%AI"> 100% AI 자동 제작</label>
      <label><input type="radio" name="manip1" value="기타"> 기타 안내 문구</label>
      <label><input type="radio" name="manip1" value="모름"> 기억나지 않음</label>
    </div>

    <!-- 2. 전문가 개입 정도 (0~10 슬라이더 + 빠른클릭 0/5/10) -->
    <div class="row" style="margin-top:12px">
      <div><strong>2.</strong> 당신이 보기에, 이 광고 제작에서 광고 전문가의 개입 정도는 어느 정도였습니까?</div>
      <div class="slider-wrap">
        <input id="involve" type="range" min="0" max="10" step="1" value="5" />
        <div class="ticks"><span>0 전혀없음(AI가 완전히 제작)</span><span>5 사람과 AI가 비슷하게 참여</span><span>10 매우 큼(사람이 완전히 제작)</span></div>
        <div class="btnbar">
          <button class="btn" data-set="0">0로 설정</button>
          <button class="btn" data-set="5">5로 설정</button>
          <button class="btn" data-set="10">10으로 설정</button>
          <span class="muted">현재값: <span id="involveVal">5</span></span>
        </div>
      </div>
    </div>

    <!-- 3~6 묶음: 안내문 1개만 표기, 데이터는 변수별로 구분 -->
    <div class="hr"></div>
    <p><strong>아래 문항들은 방금 시청한 영상과 제품에 대해 느끼신 점을 묻습니다.</strong> 정답이나 오답은 없으며, 평소에 느끼신 대로 응답해 주시면 됩니다.</p>

    <!-- 3. 진정성(5문항) -->
    <div class="grid" style="margin-top:8px">
      <table>
        <thead>
          <tr>
            <th style="text-align:left">문항</th>
            <th>1<br/><span class="small">전혀 아니다</span></th>
            <th>2</th>
            <th>3<br/><span class="small">보통이다</span></th>
            <th>4</th>
            <th>5<br/><span class="small">매우 그렇다</span></th>
          </tr>
        </thead>
        <tbody id="likert-auth">
          <tr>
            <td style="text-align:left">이 광고는 제품의 특성을 왜곡하지 않고 보여준다.</td>
            <td><input type="radio" name="AUTH1" value="1"></td>
            <td><input type="radio" name="AUTH1" value="2"></td>
            <td><input type="radio" name="AUTH1" value="3"></td>
            <td><input type="radio" name="AUTH1" value="4"></td>
            <td><input type="radio" name="AUTH1" value="5"></td>
          </tr>
          <tr>
            <td style="text-align:left">이 광고는 소비자를 속이려는 의도가 없어 보인다.</td>
            <td><input type="radio" name="AUTH2" value="1"></td>
            <td><input type="radio" name="AUTH2" value="2"></td>
            <td><input type="radio" name="AUTH2" value="3"></td>
            <td><input type="radio" name="AUTH2" value="4"></td>
            <td><input type="radio" name="AUTH2" value="5"></td>
          </tr>
          <tr>
            <td style="text-align:left">이 광고는 신뢰할 수 있다.</td>
            <td><input type="radio" name="AUTH3" value="1"></td>
            <td><input type="radio" name="AUTH3" value="2"></td>
            <td><input type="radio" name="AUTH3" value="3"></td>
            <td><input type="radio" name="AUTH3" value="4"></td>
            <td><input type="radio" name="AUTH3" value="5"></td>
          </tr>
          <tr>
            <td style="text-align:left">이 광고의 표현은 자연스럽다.</td>
            <td><input type="radio" name="AUTH4" value="1"></td>
            <td><input type="radio" name="AUTH4" value="2"></td>
            <td><input type="radio" name="AUTH4" value="3"></td>
            <td><input type="radio" name="AUTH4" value="4"></td>
            <td><input type="radio" name="AUTH4" value="5"></td>
          </tr>
          <tr>
            <td style="text-align:left">이 광고는 인간의 개입이 반영되어 있다.</td>
            <td><input type="radio" name="AUTH5" value="1"></td>
            <td><input type="radio" name="AUTH5" value="2"></td>
            <td><input type="radio" name="AUTH5" value="3"></td>
            <td><input type="radio" name="AUTH5" value="4"></td>
            <td><input type="radio" name="AUTH5" value="5"></td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- 4. 독창성(6문항) -->
    <div class="grid" style="margin-top:16px">
      <table>
        <thead>
        <tr>
          <th style="text-align:left">문항</th>
          <th>1</th><th>2</th><th>3</th><th>4</th><th>5</th>
        </tr>
        </thead>
        <tbody id="likert-orig">
          <tr>
            <td style="text-align:left">이 광고는 기존의 광고들과는 다른 독특한 접근을 보여준다.</td>
            <td><input type="radio" name="ORIG1" value="1"></td>
            <td><input type="radio" name="ORIG1" value="2"></td>
            <td><input type="radio" name="ORIG1" value="3"></td>
            <td><input type="radio" name="ORIG1" value="4"></td>
            <td><input type="radio" name="ORIG1" value="5"></td>
          </tr>
          <tr>
            <td style="text-align:left">이 광고는 참신한 시각적 표현을 담고 있다.</td>
            <td><input type="radio" name="ORIG2" value="1"></td>
            <td><input type="radio" name="ORIG2" value="2"></td>
            <td><input type="radio" name="ORIG2" value="3"></td>
            <td><input type="radio" name="ORIG2" value="4"></td>
            <td><input type="radio" name="ORIG2" value="5"></td>
          </tr>
          <tr>
            <td style="text-align:left">이 광고는 예측하기 어려운 요소를 포함하고 있다.</td>
            <td><input type="radio" name="ORIG3" value="1"></td>
            <td><input type="radio" name="ORIG3" value="2"></td>
            <td><input type="radio" name="ORIG3" value="3"></td>
            <td><input type="radio" name="ORIG3" value="4"></td>
            <td><input type="radio" name="ORIG3" value="5"></td>
          </tr>
          <tr>
            <td style="text-align:left">이 광고는 브랜드와 관련성이 있다.</td>
            <td><input type="radio" name="ORIG4" value="1"></td>
            <td><input type="radio" name="ORIG4" value="2"></td>
            <td><input type="radio" name="ORIG4" value="3"></td>
            <td><input type="radio" name="ORIG4" value="4"></td>
            <td><input type="radio" name="ORIG4" value="5"></td>
          </tr>
          <tr>
            <td style="text-align:left">이 광고는 브랜드와 잘 어울린다.</td>
            <td><input type="radio" name="ORIG5" value="1"></td>
            <td><input type="radio" name="ORIG5" value="2"></td>
            <td><input type="radio" name="ORIG5" value="3"></td>
            <td><input type="radio" name="ORIG5" value="4"></td>
            <td><input type="radio" name="ORIG5" value="5"></td>
          </tr>
          <tr>
            <td style="text-align:left">이 광고는 진부하다. <span class="muted small">(역채점)</span></td>
            <td><input type="radio" name="ORIG6" value="1"></td>
            <td><input type="radio" name="ORIG6" value="2"></td>
            <td><input type="radio" name="ORIG6" value="3"></td>
            <td><input type="radio" name="ORIG6" value="4"></td>
            <td><input type="radio" name="ORIG6" value="5"></td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- 5. 광고 태도(3문항) -->
    <div class="grid" style="margin-top:16px">
      <table>
        <thead><tr><th style="text-align:left">문항</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th></tr></thead>
        <tbody id="likert-att">
          <tr>
            <td style="text-align:left">이 광고는 마음에 든다.</td>
            <td><input type="radio" name="ATT1" value="1"></td>
            <td><input type="radio" name="ATT1" value="2"></td>
            <td><input type="radio" name="ATT1" value="3"></td>
            <td><input type="radio" name="ATT1" value="4"></td>
            <td><input type="radio" name="ATT1" value="5"></td>
          </tr>
          <tr>
            <td style="text-align:left">이 광고는 긍정적인 인상을 준다.</td>
            <td><input type="radio" name="ATT2" value="1"></td>
            <td><input type="radio" name="ATT2" value="2"></td>
            <td><input type="radio" name="ATT2" value="3"></td>
            <td><input type="radio" name="ATT2" value="4"></td>
            <td><input type="radio" name="ATT2" value="5"></td>
          </tr>
          <tr>
            <td style="text-align:left">이 광고는 매력적이다.</td>
            <td><input type="radio" name="ATT3" value="1"></td>
            <td><input type="radio" name="ATT3" value="2"></td>
            <td><input type="radio" name="ATT3" value="3"></td>
            <td><input type="radio" name="ATT3" value="4"></td>
            <td><input type="radio" name="ATT3" value="5"></td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- 6. 구매의도(3문항) -->
    <div class="grid" style="margin-top:16px">
      <table>
        <thead><tr><th style="text-align:left">문항</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th></tr></thead>
        <tbody id="likert-pi">
          <tr>
            <td style="text-align:left">이 광고에서 나온 제품을 구매할 가능성이 있다.</td>
            <td><input type="radio" name="PI1" value="1"></td>
            <td><input type="radio" name="PI1" value="2"></td>
            <td><input type="radio" name="PI1" value="3"></td>
            <td><input type="radio" name="PI1" value="4"></td>
            <td><input type="radio" name="PI1" value="5"></td>
          </tr>
          <tr>
            <td style="text-align:left">이 광고는 나의 구매 욕구를 자극한다.</td>
            <td><input type="radio" name="PI2" value="1"></td>
            <td><input type="radio" name="PI2" value="2"></td>
            <td><input type="radio" name="PI2" value="3"></td>
            <td><input type="radio" name="PI2" value="4"></td>
            <td><input type="radio" name="PI2" value="5"></td>
          </tr>
          <tr>
            <td style="text-align:left">나는 이 제품을 다른 사람에게 추천하고 싶다.</td>
            <td><input type="radio" name="PI3" value="1"></td>
            <td><input type="radio" name="PI3" value="2"></td>
            <td><input type="radio" name="PI3" value="3"></td>
            <td><input type="radio" name="PI3" value="4"></td>
            <td><input type="radio" name="PI3" value="5"></td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="btnbar">
      <button class="btn" data-prev>이전</button>
      <!-- 점검용: 응답 없이 이동 가능 -->
      <button class="btn primary" data-next>다음</button>
    </div>
  </section>

  <!-- 섹션 4: 생성형 AI 인식/경험 -->
  <section id="sec4" class="card" style="display:none">
    <h2 style="margin-top:0">생성형 AI 관련 인식 및 경험 (섹션 4)</h2>

    <p class="muted small">아래 문항들은 귀하의 생성형 AI에 대한 이해와 인식을 묻는 질문입니다.</p>
    <div class="grid">
      <table>
        <thead><tr><th style="text-align:left">문항</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th></tr></thead>
        <tbody id="likert-ailit">
          <tr>
            <td style="text-align:left">나는 AI가 학습한 데이터를 활용해 글이나 이미지를 만들어낸다는 것을 알고 있다.</td>
            <td><input type="radio" name="AILIT1" value="1"></td>
            <td><input type="radio" name="AILIT1" value="2"></td>
            <td><input type="radio" name="AILIT1" value="3"></td>
            <td><input type="radio" name="AILIT1" value="4"></td>
            <td><input type="radio" name="AILIT1" value="5"></td>
          </tr>
          <tr>
            <td style="text-align:left">나는 AI가 만든 콘텐츠와 사람이 만든 콘텐츠를 비교해보고 스스로 판단할 수 있다.</td>
            <td><input type="radio" name="AILIT2" value="1"></td>
            <td><input type="radio" name="AILIT2" value="2"></td>
            <td><input type="radio" name="AILIT2" value="3"></td>
            <td><input type="radio" name="AILIT2" value="4"></td>
            <td><input type="radio" name="AILIT2" value="5"></td>
          </tr>
          <tr>
            <td style="text-align:left">나는 AI가 만든 결과물을 신뢰할 수 있다.</td>
            <td><input type="radio" name="AILIT3" value="1"></td>
            <td><input type="radio" name="AILIT3" value="2"></td>
            <td><input type="radio" name="AILIT3" value="3"></td>
            <td><input type="radio" name="AILIT3" value="4"></td>
            <td><input type="radio" name="AILIT3" value="5"></td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="hr"></div>
    <div class="row">
      <div><strong>본인의 생성형 AI 사용 경험 수준은 어느 정도입니까?</strong></div>
      <label><input type="radio" name="AIUSE" value="1"> 전혀 없다</label>
      <label><input type="radio" name="AIUSE" value="2"> 한두 번 사용해 본 적이 있다 (1~2회 이하)</label>
      <label><input type="radio" name="AIUSE" value="3"> 가끔 사용한다 (월 1회 이상)</label>
      <label><input type="radio" name="AIUSE" value="4"> 자주 사용한다 (주 1회 이상)</label>
      <label><input type="radio" name="AIUSE" value="5"> 매우 자주 사용한다 (거의 매일)</label>
    </div>

    <div id="svcBlock" class="row" style="display:none;margin-top:10px">
      <div><strong>아래 생성형 AI 중 사용해 본 서비스에 모두 표시해 주십시오. (복수선택)</strong></div>
      <label><input type="checkbox" name="AIsvc" value="chat"> 텍스트/대화형 AI (ChatGPT, Gemini 등)</label>
      <label><input type="checkbox" name="AIsvc" value="image"> 이미지 생성 AI (Midjourney, SD 등)</label>
      <label><input type="checkbox" name="AIsvc" value="video"> 영상 생성 AI (Sora, Runway, Kling 등)</label>
      <label><input type="checkbox" name="AIsvc" value="audio"> 음악/오디오 AI (Suno, Udio 등)</label>
    </div>

    <div class="btnbar">
      <button class="btn" data-prev>이전</button>
      <button class="btn primary" id="submitBtn">설문 제출</button>
    </div>
  </section>

  <!-- 제출 완료 -->
  <section id="done" class="card" style="display:none">
    <h2 style="margin-top:0">제출 완료</h2>
    <p>응답해 주셔서 감사합니다. (현재 페이지는 점검용으로, 실제 저장은 하지 않습니다.)</p>
    <pre id="dump" class="small" style="white-space:pre-wrap;background:#f9fafb;border:1px solid var(--line);padding:12px;border-radius:10px"></pre>
  </section>
</div>

<script>
  // ---------------------
  // 0) 공용 상태/유틸
  // ---------------------
  const steps = ["sec1","sec2","sec3","sec4"];
  let cur = 0;

  function showStep(idx){
    steps.forEach((id,i)=>{
      document.getElementById(id).style.display = (i===idx) ? "" : "none";
    });
    document.getElementById("done").style.display = "none";
    cur = idx;
    const bar = document.getElementById("bar");
    const pct = ((idx+1)/steps.length)*100;
    bar.style.width = pct + "%";
    document.getElementById("stepLabel").textContent = (idx+1) + " / " + steps.length;
    window.scrollTo({top:0,behavior:"smooth"});
  }

  document.querySelectorAll("[data-next]").forEach(btn=>{
    btn.addEventListener("click",()=>showStep(Math.min(cur+1, steps.length-1)));
  });
  document.querySelectorAll("[data-prev]").forEach(btn=>{
    btn.addEventListener("click",()=>showStep(Math.max(cur-1, 0)));
  });

  // ---------------------
  // 1) 6개 자극: 파일명/라벨 매핑 + 랜덤 고르기
  // ---------------------
  const stimuli = [
    { file:"A_H.mp4", code:"A_H", label:"⚠️ 본 영상은 생성형 AI에 의해 전적으로 자동 제작된 콘텐츠입니다." },
    { file:"A_L.mp4", code:"A_L", label:"⚠️ 본 영상은 생성형 AI에 의해 전적으로 자동 제작된 콘텐츠입니다." },
    { file:"B_H.mp4", code:"B_H", label:"⚠️ 해당 영상은 광고 전문가가 생성형 AI를 활용하여 제작한 콘텐츠입니다." },
    { file:"B_L.mp4", code:"B_L", label:"⚠️ 해당 영상은 광고 전문가가 생성형 AI를 활용하여 제작한 콘텐츠입니다." },
    { file:"C_H.mp4", code:"C_H", label:"⚠️ 해당 영상은 전적으로 광고 전문가에 의해 제작되었으며, 생성형 AI는 활용되지 않았습니다." },
    { file:"C_L.mp4", code:"C_L", label:"⚠️ 해당 영상은 전적으로 광고 전문가에 의해 제작되었으며, 생성형 AI는 활용되지 않았습니다." }
  ];

  // 선택 방식: URL 파라미터 ?pick=A_H 있으면 고정, 없으면 랜덤
  const urlParams = new URLSearchParams(location.search);
  const prePick = urlParams.get("pick");
  let chosen = stimuli.find(s=>s.code===prePick) || stimuli[Math.floor(Math.random()*stimuli.length)];

  const adSrc = document.getElementById("adSrc");
  const adVideo = document.getElementById("adVideo");
  const aiNotice = document.getElementById("aiNotice");
  const chosenInfo = document.getElementById("chosenInfo");

  function mountVideo(){
    adSrc.src = chosen.file;
    adVideo.load();
    aiNotice.textContent = chosen.label;
    chosenInfo.textContent = `선정된 자극: ${chosen.code} (파일: ${chosen.file})`;
  }
  mountVideo();

  // ---------------------
  // 2) 슬라이더 0/5/10 퀵 버튼
  // ---------------------
  const involve = document.getElementById("involve");
  const involveVal = document.getElementById("involveVal");
  involve.addEventListener("input",()=>involveVal.textContent = involve.value);
  document.querySelectorAll("[data-set]").forEach(b=>{
    b.addEventListener("click",()=>{ involve.value = b.dataset.set; involve.dispatchEvent(new Event("input")); });
  });

  // ---------------------
  // 3) AI 사용경험 수준에 따라 서비스 블록 표시
  // ---------------------
  const svcBlock = document.getElementById("svcBlock");
  document.querySelectorAll("input[name='AIUSE']").forEach(r=>{
    r.addEventListener("change",()=>{
      // 1(전혀 없다)이면 숨김, 그 외 표시
      svcBlock.style.display = (r.value==="1") ? "none" : "";
    });
  });

  // ---------------------
  // 4) 제출(점검용): 수집 값 콘솔/화면 출력
  // ---------------------
  function getRadio(name){
    const el = document.querySelector(`input[name='${name}']:checked`);
    return el ? el.value : "";
  }
  function getChecks(name){
    return Array.from(document.querySelectorAll(`input[name='${name}']:checked`)).map(x=>x.value);
  }

  document.getElementById("submitBtn").addEventListener("click", ()=>{
    const payload = {
      meta: {
        picked_code: chosen.code,
        picked_file: chosen.file,
        picked_label: chosen.label,
        ts: new Date().toISOString()
      },
      section1: {
        student_id: document.getElementById("sid").value.trim(),
        gender: getRadio("gender"),
        age: document.getElementById("age").value
      },
      section3: {
        manipulation_seen: getRadio("manip1"),
        involvement_0to10: Number(involve.value),
        AUTH: {
          AUTH1:getRadio("AUTH1"), AUTH2:getRadio("AUTH2"), AUTH3:getRadio("AUTH3"), AUTH4:getRadio("AUTH4"), AUTH5:getRadio("AUTH5")
        },
        ORIG: {
          ORIG1:getRadio("ORIG1"), ORIG2:getRadio("ORIG2"), ORIG3:getRadio("ORIG3"),
          ORIG4:getRadio("ORIG4"), ORIG5:getRadio("ORIG5"), ORIG6:getRadio("ORIG6") // 역채점
        },
        ATT: { ATT1:getRadio("ATT1"), ATT2:getRadio("ATT2"), ATT3:getRadio("ATT3") },
        PI:  { PI1:getRadio("PI1"), PI2:getRadio("PI2"), PI3:getRadio("PI3") }
      },
      section4: {
        AILIT: { AILIT1:getRadio("AILIT1"), AILIT2:getRadio("AILIT2"), AILIT3:getRadio("AILIT3") },
        AIUSE: getRadio("AIUSE"),
        AIsvc: getChecks("AIsvc")
      }
    };

    console.log("점검용 제출 payload:", payload);

    // 화면에 덤프(점검)
    steps.forEach(id=>document.getElementById(id).style.display="none");
    document.getElementById("done").style.display="";
    document.getElementById("bar").style.width="100%";
    document.getElementById("stepLabel").textContent="완료";
    document.getElementById("dump").textContent = JSON.stringify(payload, null, 2);
    window.scrollTo({top:0,behavior:"smooth"});
  });

  // ---------------------
  // (참고) 실제 배포시 검증/시청 강제
  // - 섹션2에서 video.onended 이벤트로 [다음] 활성화
  // - 필수 문항 체크 후 다음 버튼 활성화 등
  // 현재 파일은 점검용으로 항상 이동 가능하도록 설정됨
  // ---------------------
</script>
</body>
</html>
