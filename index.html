<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>광고 영상 시청 시 소비자 경험 설문(점검용)</title>
<style>
  :root { --gap: 16px; --fg:#222; --muted:#666; --line:#e5e7eb; --brand:#f59e0b; }
  body{margin:0;padding:0;background:#fff;color:var(--fg);font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;line-height:1.6}
  .wrap{max-width:960px;margin:24px auto;padding:0 16px}
  h1{font-size:1.4rem;margin:0 0 6px}
  .card{border:1px solid var(--line);border-radius:14px;padding:18px;box-shadow:0 1px 3px rgba(0,0,0,.04);margin-top:var(--gap)}
  .muted{color:var(--muted);font-size:.95rem}
  .row{display:grid;gap:10px}
  .row2{display:grid;grid-template-columns:1fr auto;gap:10px;align-items:center}
  .progress{height:6px;background:#f3f4f6;border-radius:999px;overflow:hidden;margin:8px 0 0}
  .progress > div{height:100%;background:var(--brand);width:0%}
  .btn{display:inline-flex;gap:8px;align-items:center;border:1px solid var(--line);background:#fff;padding:10px 14px;border-radius:10px;cursor:pointer}
  .btn.primary{background:var(--brand);border-color:var(--brand);color:#111;font-weight:600}
  .btn:disabled{opacity:.5;cursor:not-allowed}
  .btnbar{display:flex;gap:10px;margin-top:14px;flex-wrap:wrap}
  .grid{overflow-x:auto}
  table{border-collapse:collapse;width:100%;min-width:680px}
  th,td{border:1px solid var(--line);padding:8px 10px;text-align:center}
  th{background:#fafafa;font-weight:600}

  /* 안내 박스 */
  .section-note{display:flex;gap:12px;align-items:flex-start;background:#f8fafc;border:2px solid #111;border-left-width:8px;border-radius:12px;padding:12px 14px;margin:12px 0}
  .section-note .note-title{font-weight:800;letter-spacing:.02em;margin-top:2px}
  .section-note .note-text{line-height:1.55}

  /* 굵은 구분선 */
  .thick-sep{height:4px;background:#111;border-radius:2px;margin:12px 0}
  table.compact th, table.compact td{padding:7px 9px}

  /* 타원 마커 슬라이더 */
  .major-ticks {display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px;margin:6px 0 10px;font-weight:600;text-align:center;}
  .scale-wrap { position:relative;width:100%; }
  .scale-track {position:relative;height:20px;border-radius:999px;background:#d1e3ff;box-shadow: inset 0 0 0 2px #6b8bd9;}
  .scale-fill {position:absolute;left:0;top:0;height:100%;width:50%;background:#3b82f6;border-radius:999px;}
  .scale-marks {position:relative;display:flex;justify-content:space-between;align-items:center;margin-top:-12px;}
  .mark {appearance:none;border:none;background:#fff;color:#111;width:42px;height:28px;border-radius:999px;box-shadow:0 0 0 2px #6b8bd9,0 1px 2px rgba(0,0,0,.08);display:grid;place-items:center;font-weight:700;cursor:pointer}
  .mark.active {box-shadow:0 0 0 2px #1d4ed8,0 0 0 6px rgba(29,78,216,.15)}
  .sr-only-range{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}
</style>
</head>
<body>
<div class="wrap">
  <div class="row2">
    <h1>광고 영상 시청 시 소비자 경험 설문 <span class="pill">점검용</span></h1>
    <div style="min-width:180px">
      <div class="progress"><div id="bar"></div></div>
      <div class="muted" id="stepLabel" style="text-align:right;margin-top:6px">1 / 4</div>
    </div>
  </div>

  <!-- 섹션1 -->
  <section id="sec1" class="card">
    <h2>설문조사 안내문 (섹션 1)</h2>
    <p>안녕하십니까? 귀중한 시간을 내어 설문에 응해 주셔서 감사합니다...</p>
    <div class="btnbar"><button class="btn primary" data-next>다음</button></div>
  </section>

  <!-- 섹션2 -->
  <section id="sec2" class="card" style="display:none">
    <h2>광고 영상 시청 (섹션 2)</h2>
    <p class="brand">Sunshine는 매일의 순간에 신선한 빛을 전하는 주스 브랜드...</p>
    <p id="aiNotice" class="notice">⚠️ 안내 문구가 여기에 표시됩니다.</p>
    <div class="video-wrap">
      <video id="adVideo" width="100%" controls>
        <source id="adSrc" src="" type="video/mp4"/>
      </video>
      <div class="muted small" id="chosenInfo"></div>
    </div>
    <div class="btnbar"><button class="btn primary" data-next>다음</button></div>
  </section>

  <!-- 섹션3 -->
  <section id="sec3" class="card" style="display:none">
    <h2>영상 시청 후 경험 평가 (섹션 3)</h2>

    <!-- 안내문 박스 -->
    <div class="section-note" role="note">
      <div class="note-title">안내</div>
      <div class="note-text">아래 문항들은 <strong>방금 시청한 영상과 제품에 대해 느끼신 점</strong>을 묻습니다. 정답이나 오답은 없으며, 평소에 느끼신 대로 응답해 주시면 됩니다.</div>
    </div>

    <!-- 슬라이더 -->
    <div class="major-ticks">
      <span>0 전혀없음<br><span class="small muted">(AI)</span></span>
      <span>5 비슷하게 참여</span>
      <span>10 매우 큼<br><span class="small muted">(사람)</span></span>
    </div>
    <div class="scale-wrap">
      <div class="scale-track"><div id="scaleFill" class="scale-fill"></div></div>
      <div id="scaleMarks" class="scale-marks"></div>
      <input id="involve" class="sr-only-range" type="range" min="0" max="10" step="1" value="5"/>
    </div>
    <div class="btnbar">
      <button class="btn" data-set="0">0로</button>
      <button class="btn" data-set="5">5로</button>
      <button class="btn" data-set="10">10으로</button>
      <span class="muted">현재값: <span id="involveVal">5</span></span>
    </div>

    <!-- Likert 예시 -->
    <div class="grid" style="margin-top:8px">
      <table class="compact">
        <tr><th>문항</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th></tr>
        <tr><td>이 광고는 제품의 특성을 왜곡하지 않고 보여준다.</td><td>○</td><td>○</td><td>○</td><td>○</td><td>○</td></tr>
      </table>
    </div>

    <div class="thick-sep"></div>

    <div class="grid" style="margin-top:8px">
      <table class="compact">
        <tr><td>이 광고는 기존의 광고들과는 다른 독특한 접근을 보여준다.</td><td>○</td><td>○</td><td>○</td><td>○</td><td>○</td></tr>
      </table>
    </div>

    <div class="thick-sep"></div>

    <div class="grid" style="margin-top:8px">
      <table class="compact">
        <tr><td>이 광고는 마음에 든다.</td><td>○</td><td>○</td><td>○</td><td>○</td><td>○</td></tr>
      </table>
    </div>

    <div class="thick-sep"></div>

    <div class="grid" style="margin-top:8px">
      <table class="compact">
        <tr><td>이 광고에서 나온 제품을 구매할 가능성이 있다.</td><td>○</td><td>○</td><td>○</td><td>○</td><td>○</td></tr>
      </table>
    </div>

    <div class="btnbar"><button class="btn" data-prev>이전</button><button class="btn primary" data-next>다음</button></div>
  </section>

  <!-- 섹션4 -->
  <section id="sec4" class="card" style="display:none">
    <h2>생성형 AI 관련 인식 및 경험 (섹션 4)</h2>
    <p>...</p>
    <div class="btnbar"><button class="btn" data-prev>이전</button><button class="btn primary" id="submitBtn">제출</button></div>
  </section>

  <section id="done" class="card" style="display:none">
    <h2>제출 완료</h2>
    <pre id="dump"></pre>
  </section>
</div>

<script>
  // step 이동
  const steps = ["sec1","sec2","sec3","sec4"];
  let cur=0;
  function showStep(i){steps.forEach((id,j)=>document.getElementById(id).style.display=(i===j)?"":"none");cur=i;document.getElementById("bar").style.width=((i+1)/steps.length*100)+"%";document.getElementById("stepLabel").textContent=(i+1)+" / "+steps.length;}
  document.querySelectorAll("[data-next]").forEach(b=>b.onclick=()=>showStep(cur+1));
  document.querySelectorAll("[data-prev]").forEach(b=>b.onclick=()=>showStep(cur-1));

  // 슬라이더 마커 0~10 생성
  const marksC = document.getElementById("scaleMarks");
  for(let i=0;i<=10;i++){
    const btn=document.createElement("button");
    btn.type="button";btn.className="mark";btn.dataset.val=i;btn.textContent=i;
    btn.onclick=()=>setInvolve(i);
    marksC.appendChild(btn);
  }
  const involve=document.getElementById("involve");
  const involveVal=document.getElementById("involveVal");
  const scaleFill=document.getElementById("scaleFill");

  function setInvolve(val){val=Math.max(0,Math.min(10,Number(val)));involve.value=val;involveVal.textContent=val;scaleFill.style.width=(val/10*100)+"%";document.querySelectorAll(".mark").forEach(m=>m.classList.toggle("active",Number(m.dataset.val)===val));}
  document.querySelectorAll("[data-set]").forEach(b=>b.onclick=()=>setInvolve(b.dataset.set));
  setInvolve(5);

  // 제출 dump
  document.getElementById("submitBtn").onclick=()=>{steps.forEach(id=>document.getElementById(id).style.display="none");document.getElementById("done").style.display="";document.getElementById("dump").textContent=JSON.stringify({done:true,involve:involve.value},null,2);};
</script>
</body>
</html>
